pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
-- tents and trees
-- by frozax

-- try the original mobile game at https://www.frozax.com/tat

#include ../libs/colors.p8
#include ../libs/vec2.p8
#include ../libs/fps.p8

#include level.p8
#include draw.p8
#include game_input.p8

function _update()
    check_input()
end

function _draw()
    cls(bg_col)
    draw_grid()
    draw_numbers()
    draw_cell_bgs()
    draw_cell_sprites()
    draw_input()

    showpct(0)
end

function _init()
    cell_inner_size = 11
    cell_size = 12
    tree_height = 14

    bg_col = 15
    grass_col = 11
    unknown_col = 13
    grid_col = 5
    numbers_wip_col = 1
    numbers_error_col = 8
    numbers_ok_col = 9
    input_col = 0

    GR = 0
    TE = 1
    TR = 2
    UN = 3
    l = {
        {GR,GR,GR,TE,GR},
        {TE,TR,GR,TR,GR},
        {GR,GR,GR,GR,GR},
        {TR,TR,TE,GR,TE},
        {TE,GR,GR,GR,TR},
    }
    load_level(l)
    init_input()
end


__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00009820000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00008880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00098282000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00098282000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00982528200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00985558200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09885558820000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09888888820000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00003330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00033333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00033333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00033333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00073333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00037733000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00033333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00033337000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00033773000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00033333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00003330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
70000000077077707070777000007770777077007770077077707700770077707770777077700770000000000000000000000000000000000000000000000000
07000000700070707070700000000700700070700700700070707070707007007070700070007000000000000000000000000000000000000000000000000000
00700000777077707070770000000700770070700700777077707070707007007700770077007770000000000000000000000000000000000000000000000000
07000000007070707770700000000700700070700700007070707070707007007070700070000070000000000000000000000000000000000000000000000000
70000000770070700700777000000700777070700700770070707070777007007070777077707700000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06606660606066606600000066606660660066600660666066006600666066606660666006600000666066600000000000000000000000000000000000000000
60006060606060006060000006006000606006006000606060606060060060606000600060000000606060600000000000000000000000000000000000000000
66606660606066006060000006006600606006006660666060606060060066006600660066600000666066600000000000000000000000000000000000000000
00606060666060006060000006006000606006000060606060606060060060606000600000600000600060600000000000000000000000000000000000000000
66006060060066606660000006006660606006006600606060606660060060606660666066000600600066600000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000077007707700777077700770000007700770777070007770000000000000000000000000000000000000000000000000000000000000000000000000
07000000700070707070700007007000000070007000707070007000000000000000000000000000000000000000000000000000000000000000000000000000
00700000700070707070770007007000000077707000777070007700000000000000000000000000000000000000000000000000000000000000000000000000
07000000700070707070700007007070000000707000707070007000000000000000000000000000000000000000000000000000000000000000000000000000
70000000077077007070700077707770000077000770707077707770000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0ee00ee0ee00eee0eee00ee00000ee000ee0eee0eee0eee0eee0ee000ee00ee00000000000000000000000000000000000000000000000000000000000000000
e000e0e0e0e0e0000e00e0000000e000e000e0000e000e000e00e0e0e00000e00000000000000000000000000000000000000000000000000000000000000000
e000e0e0e0e0ee000e00e0000000e000eee0ee000e000e000e00e0e0e00000e00000000000000000000000000000000000000000000000000000000000000000
e000e0e0e0e0e0000e00e0e00000e00000e0e0000e000e000e00e0e0e0e000e00000000000000000000000000000000000000000000000000000000000000000
0ee0ee00e0e0e000eee0eee00000ee00ee00eee00e000e00eee0e0e0eee00ee00000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ccc0c0c0ccc0ccc0c000ccc0ccc0c000ccc000000cc0ccc0ccc0ccc0ccc0cc000cc00cc000000000000000000000000000000000000000000000000000000000
c0c0c0c0c0c00c00c000c0c0c0c0c000c0000000c000c0000c000c000c00c0c0c000c0000c000000000000000000000000000000000000000000000000000000
ccc0c0c0ccc00c00c000ccc0cc00c000cc000000ccc0cc000c000c000c00c0c0c000ccc000000000000000000000000000000000000000000000000000000000
c0c0ccc0c0c00c00c000c0c0c0c0c000c000000000c0c0000c000c000c00c0c0c0c000c00c000000000000000000000000000000000000000000000000000000
c0c00c00c0c0ccc0ccc0c0c0ccc0ccc0ccc00000cc00ccc00c000c00ccc0c0c0ccc0cc0000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
60600660600060606660666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
60606060600060606660600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
60606060600060606060660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66606060600060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06006600666006606060666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66606060666066606660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06006060600066606000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06006660660060606600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06006060600060606000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06006060666060606660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06606660666000006000666066000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
60000600600000006000600060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
60000600660000006000660060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
60600600600000006000600060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66606660600066606660666060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06606660666000006660666006606660666000006660066066006660000000000000000000000000000000000000000000000000000000000000000000000000
60000600600000006060600060006000060000006660606060606000000000000000000000000000000000000000000000000000000000000000000000000000
60000600660000006600660066606600060000006060606060606600000000000000000000000000000000000000000000000000000000000000000000000000
60600600600000006060600000606000060000006060606060606000000000000000000000000000000000000000000000000000000000000000000000000000
66606660600066606060666066006660060066606060660066606660000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06606660666000000660066066606000666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
60000600600000006000600060606000600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
60000600660000006660600066606000660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
60600600600000000060600060606000600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66606660600066606600066060606660666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06600660666066606660660006606060066066600000066006606660600066600000000000000000000000000000000000000000000000000000000000000000
60006000606060006000606060006060606006000000600060006060600060000000000000000000000000000000000000000000000000000000000000000000
66606000660066006600606066606660606006000000666060006660600066000000000000000000000000000000000000000000000000000000000000000000
00606000606060006000606000606060606006000000006060006060600060000000000000000000000000000000000000000000000000000000000000000000
66000660606066606660606066006060660006006660660006606060666066600000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06606660600006606660666000006660666060006660666066600000000000000000000000000000000000000000000000000000000000000000000000000000
60006060600060606060600000006000060060000600600060600000000000000000000000000000000000000000000000000000000000000000000000000000
66606660600060606600660000006600060060000600660066000000000000000000000000000000000000000000000000000000000000000000000000000000
00606000600060606060600000006000060060000600600060600000000000000000000000000000000000000000000000000000000000000000000000000000
66006000666066006060666066606000666066600600666060600000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66606660666000006060666066006660606000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06006060606000006060060060600600606000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06006660660000006060060060600600666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06006060606000006660060060600600606000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06006060666066606660666066600600606000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000077007707700777077700770000007700770777077707770770007707070077077700000077007707770700077700000000000000000000000000000
07000000700070707070700007007000000070007000707070007000707070007070707007000000700070007070700070000000000000000000000000000000
00700000700070707070770007007000000077707000770077007700707077707770707007000000777070007770700077000000000000000000000000000000
07000000700070707070700007007070000000707000707070007000707000707070707007000000007070007070700070000000000000000000000000000000
70000000077077007070700077707770000077000770707077707770707077007070770007007770770007707070777077700000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0ee00ee0ee00eee0eee00ee000000ee00ee0eee0eee0eee0ee000ee0e0e00ee0eee000000ee00ee0eee0e000eee00000ee000ee0eee0eee0eee00ee000000000
e000e0e0e0e0e0000e00e0000000e000e000e0e0e000e000e0e0e000e0e0e0e00e000000e000e000e0e0e000e0000000e000e0000e0000e0e00000e000000000
e000e0e0e0e0ee000e00e0000000eee0e000ee00ee00ee00e0e0eee0eee0e0e00e000000eee0e000eee0e000ee000000e000eee00e000e00ee0000e000000000
e000e0e0e0e0e0000e00e0e0000000e0e000e0e0e000e000e0e000e0e0e0e0e00e00000000e0e000e0e0e000e0000000e00000e00e00e000e00000e000000000
0ee0ee00e0e0e000eee0eee00000ee000ee0e0e0eee0eee0e0e0ee00e0e0ee000e00eee0ee000ee0e0e0eee0eee00000ee00ee00eee0eee0eee00ee000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06606060666066606660660066600000066006606660666066606600066060600660666000000660066066606000666000000000606000000000000000000000
60006060606060606000606006000000600060006060600060006060600060606060060000006000600060606000600006000000606000000000000000000000
60006060660066006600606006000000666060006600660066006060666066606060060000006660600066606000660000000000666000000000000000000000
60006060606060606000606006000000006060006060600060006060006060606060060000000060600060606000600006000000006000000000000000000000
06600660606060606660606006000000660006606060666066606060660060606600060066606600066060606660666000000000006000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000077007707700777077700770000007700770777077707770770007707070077077700000077007707770700077700000770000000000000000000000
07000000700070707070700007007000000070007000707070007000707070007070707007000000700070007070700070000000070000000000000000000000
00700000700070707070770007007000000077707000770077007700707077707770707007000000777070007770700077000000070000000000000000000000
07000000700070707070700007007070000000707000707070007000707000707070707007000000007070007070700070000000070000000000000000000000
70000000077077007070700077707770000077000770707077707770707077007070770007007770770007707070777077700000777000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0ee0eee0eee000000ee00ee0eee0eee0eee0ee000ee0e0e00ee0eee000000ee00ee0eee0e000eee000000000ee00000000000000000000000000000000000000
e000e0000e000000e000e000e0e0e000e000e0e0e000e0e0e0e00e000000e000e000e0e0e000e0000e0000000e00000000000000000000000000000000000000
eee0ee000e000000eee0e000ee00ee00ee00e0e0eee0eee0e0e00e000000eee0e000eee0e000ee00000000000e00000000000000000000000000000000000000
00e0e0000e00000000e0e000e0e0e000e000e0e000e0e0e0e0e00e00000000e0e000e0e0e000e0000e0000000e00000000000000000000000000000000000000
ee00eee00e000000ee000ee0e0e0eee0eee0e0e0ee00e0e0ee000e00eee0ee000ee0e0e0eee0eee000000000eee0000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000777077007770777070707770700077707770777000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000707007000070007070707000700000707070707000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700000707007007770077077707770777000707770777000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000707007007000007000700070707000707070007000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000777077707770777000707770777000707770007000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

